%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                      %
%   IRPHELetter_doc.tex                                %
%   Version 2.0 mise à jour  janvier 2005              %
%   Ce document décrit son utilisation d'IRPHELetter   %
%                                                      %
%                                                      %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% 
\documentclass[11pt,a4paper]{article}
\usepackage[latin1]{inputenc}     % Linux, Unix et OSX set for isolatin1
%\usepackage[ansinew]{inputenc}   % PC Windows
%\usepackage[applemac]{inputenc}  % Mac 0S9 et OSX set for MacOSroman
\usepackage[french]{babel}
%\usepackage[OT1]{fontenc}
%
%-----title and author----------------------
%
\title{Utilisation d'IRPHELetter}
\date{12 janvier 2005}
\author{Geoff Searby  \vspace {2mm} \\  I.R.P.H.E. \\  
49, rue Frédéric Joliot-Curie \\ 13384 MARSEILLE Cedex 13}
%
%
\begin{document}
\maketitle
%
\begin{abstract}
    Ce document décrit l'utilisation de la classe 
\texttt{IRPHELetter.cls}, ses options, extensions et ses limites.
La classe IRPHRLetter a été conçue dans le but de fournir un environnement 
standard pour l'écriture des lettres en \LaTeX\ avec l'en-tête standard 
d'IRPHE.
\end{abstract}

\section{Introduction}

IRPHEletter ne peut fonctionner qu'avec \LaTeX2$\epsilon$. Il est incompatible 
avec \LaTeX2.09. Cependant il est conçu pour être compatible avec 
toutes installations de \LaTeX.  La version 2.0 a été testée 
qu'avec OzTeX v5 et TeXShop avec les formats LaTeX et pdfLaTeX. 
IRPHELetter a besoin du package 
\texttt{graphicx}, qui est utilisé pour l'affichage du fond de page
 avec le logo CNRS. Le package \texttt{babel} est également obigatoire. 

\section{Installation}

L'installation contient les fichiers~:
\begin{itemize}
\item \texttt{IRPHELetter.cls}, 
\item \texttt{IRPHE\_foot.tex}, 
\item \texttt{IRPHELogo.eps}, 
\item \texttt{IRPHELogo.pdf}, 
\item \texttt{DocumentationIRPHELetter.tex} (ce document).
\end{itemize}
Les quatre premiers fichiers doivent être placés dans le chemin de 
recherche du moteur \TeX, par exemple dans le dossier 
\begin{itemize}
\item \texttt{Tex-inputs/IRPHELetter/ (MacOS 9)}.
\item \texttt{library/texmf/tex/latex/IRPHELetter/} (Installation standard LaTeX).
\end{itemize}

Prenez le dossier qui correspond à votre système : PCWindows; Linux/Unix; Mac avec l'éditeur réglé en codage MacRoman. Les seuls différences entre ces trois dossiers est au niveau du codage des caractères accentués, et les caractères de fin de ligne. 

Note: Si vous avez MacOSX avec TeXShop réglé en isolatin1 (recommandé, car compatible PCWin et Linux), prenez le dossier Linux.

\section{Utilisation}
IRPHELetter s'utilise comme la classe \texttt{letter} standarde 
 et doit être appelé avec la commande : \\
\verb|\documentclass[options]{IRPHELetter}| \\[2mm]
La structure d'une lettre est~: \\
\verb|\begin{document} | \\
\verb|\begin{letter}{  | \\
\verb|Nom et adresse du destinataire \\ | \\
\verb|sur autant de lignes que nécessaire} | \\
\verb|\opening{Formule d'ouverture, par ex.: Cher Untel,} | \\
\verb|Texte de la lettre | \\
\verb|\closing{Formule de salutations}| \\
\verb|\end{letter}  | \\
\verb|\end{document}|

\section{Options et commandes}

La plupart des options et commandes spécifiques à la classe 
\texttt{letter} peuvent être utilisées avec IRPHELetter. 

Les options 10pt, 11pt et 12pt 
sont acceptées, elles modifient les caractères du texte, mais n'ont 
aucun effet dans les en-tête ou pied de page. La mise en page 
a été optimisée pour 11pt sur papier A4, mais elle devrait fonctionner avec 
d'autres tailles de papier. La commande standard 
\verb|\address| est ignorée, car l'adresse d'IRPHE figure en pied de page. 
Les autres commandes possibles dans le préambule sont~:\\
\verb|\name     {Nom de l'expéditeur} |\\
\verb|\myposition{Qualification ou fonction de l'expéditeur} |\\
\verb|\signature{Signature de l'expéditeur} |\\
\verb|\mytitle  {Titre ou qualification de l'expéditeur} |\\
\verb|\tel      {Téléphone de lexpéditeur} |\\
\verb|\fax      {Fax de l'expéditeur} |\\
\verb|\email    {Mél de l'expéditeur} |\\
\verb|\myref    {Notre réference}|\\
\verb|\yref     {Référence du destinataire} |\\
\verb|\ymail    {Date courrier du destinataire} |\\
\verb|\objet    {Objet de la lettre} |\\
\verb|\date     {Contenu du champ `date'} | 

Seule la commande \verb|\name| est obligatoire. Si les autres 
commandes sont absentes, elles ne seront pas imprimées, avec la seule 
exception de la date qui contiendra la date courante. La mise en page 
de ces commandes est visualisée dans l'exemple de lettre joint. 

Le contenu de \verb|\name| est imprimé en haut à gauche de la lettre, 
en caractères gras et italiques. Le contenu du champ \verb|\signature| 
est imprimé à la fin de la lettre. Si la signature est absente, elle 
est remplacé par le contenu de \verb|\name|. Le contenu de 
\verb|{\myposition}| est imprimé en haut à gauche, juste en dessous du 
nom de l'expéditeur. Le contenu de \verb|{\mytitle}| est imprimé juste 
en dessous la signature à la fin. On peut utiliser un seul, les deux 
ou aucun de ces deux options, aux choix de chacun. Le nom et adresse 
du destinataire sont imprimés de façon à permettre l'utilisation des 
enveloppes à fenêtre.

\section{Options spécifiques}

Il existe une option spécifique pour IRPHELetter~:
\begin{itemize}
\item \verb|french/english|
\end{itemize}
L'option par défaut est \verb|french|. 
\begin{itemize}
    \item L'option \verb|french| a pour effet de faire imprimer les références et objet 
de la lettre en français. La date est précédée par `Marseille,~le' et le 
début des salutations est positionné à 1,5\,cm de la marge gauche.
 Le package babel est toujours invoqué. Ce dernier 
permet de franciser la date, et surtout il permet la coupure des mots 
accentués. Dans le cas contraire il y a une fort probabilité d'obtenir 
des \verb|overfull hbox|.

    \item L'option \verb|english| fait imprimer les 
références et objet de la lettre en anglais. La date n'est précédée par 
rien et le début des salutations est positionné à 3,5\,cm de 
la marge gauche, car les salutations anglaises sont habituellement 
plus courtes.

\end{itemize}
\vspace{3mm}
Il existe une option \guillemotleft \ cachée \guillemotright~:
\begin{itemize}
\item \verb|cmr/ssf|
\end{itemize}
L'options par défaut est \verb|ssf| (Sans Sérif). 
\begin{itemize}
    \item L'option \verb|cmr| a pour effet de faire de rétablir la police de caractères CMR, qui peut être esthétiquement nécessaire si la lettre contient des formules mathématiques. Cependant, il est recommandé de garder le réglage standard en police sans-sérif, afin d'homogéniser le courrier du laboratoire. 

\end{itemize}

\section{Problèmes connus}
\begin{itemize}
\item \textbf{Imprimantes à jet d'encre} :  le logo ne s'imprime 
correctement que si la lettre est compilée avec pdflatex.

\item \textbf{Espacement vertical} : Dans certains cas, lorsqu'il manque un peu de place pour 
imprimer la signature en bas de page, \TeX~transfert le bas de la 
lettre à la page suivante. Il reste alors une grande vide, sur la 
première page, que \TeX~tente de repartir \guillemotleft\,au mieux\,\guillemotright. Le résultat laisse à désirer.

\item \textbf{Figures}. \emph{L'environnement} \verb|\begin{figure}| est incompatible avec la classe Letter, et donc incompatible avec la classe IRPHELetter. Cette incompatibilité ne sera pas levée dans un avenir proche. Cependant il reste tout à fait possible d'insérer des figures avec la commande standarde \verb|\includefigure{nomfig}|. La figure apparaîtra à l'emplacement de la commande. Il faut arranger la légende manuellement.
\end{itemize}

\end{document}
